[목록](https://github.com/JungInBaek/TIL/blob/main/README.md)

# 운영체제의 구조

운영체제가 점점 더 다양한 하드웨어와 소프트웨어를 지원하면서 구조 또한 복잡해졌다. 그런데 복잡한 시스템은 설계, 구현, 테스트, 유지 보수 등 모든 면에서 쉽지 않다. 이를 해결하려고 운영체제를 설계하는 다양한 방법이 등장했다. 대표적인 운영체제 구조 몇 가지만 소개한다.


## 1. 단일 구조 운영체제
단일(monolithic) 구조(또는 모놀리식 커널 구조) 운영체제는 초기에 생겨난 가장 보편적인 형태이다. 작고 간단하면서 시스템 기능이 제한된 구조로, 대표적인 예가 도스이다. 대다수 기능을 최소한의 영역으로 제공하는데, 한 계층으로는 결합할 수 없는 많은 기능으로 구성되어 있다. 단일 구조의 또 다른 예는 초기 유닉스이다.

이런 단일 구조 운영체제는 대부분의 기능을 커널에 그룹화해서 구현하므로, 직접 통신하여 시스템 자원을 효율적으로 관리할 수 있다는 장점이 있다.  
그러나 커널의 크기가 상대적으로 커지면서 버그의 원인이나 기타 오류를 구분하기 어렵고, 새 기능을 추가하는 수정과 유지 보수가 매우 어렵다. 또 동일한 메모리에서 실행하므로 한 부분에서 발생한 문제 때문에 시스템 전체에 심각한 영향을 줄 수 있다는 단점이 있다. 특히 최근에는 악성 코드로 피해를 입기가 쉽다.


## 2. 계층 구조 운영체제
운영체제가 점점 커지고 복잡해지면서 생긴 문제를 해결하려고 등장한 것이 바로 계층 구조 운영체제이다. 계층 구조에서는 비슷한 기능을 수행하는 요소를 그룹화하여 계층적으로 구성한다. 이 때 각 계층은 인접한 상위나 하위에 있는 계층과 상호작용한다. 이런 구조는 사용자 프로세스의 요청을 수행할 때 여러 계층을 거쳐야 하므로, 한 계층에서 다음 계층으로 데이터를 전달할 때마다 추가적인 시스템 호출이 발생한다. 따라서 호출 한 번으로 서비스를 받는 단일 구조보다는 성능이 떨어진다.

계층 구조의 장점은 모듈화로 단일 구조 운영체제보다 모듈화가 잘 되어 있다는 것이다. 계층 구조에서는 시스템 검증과 오류 수정을 쉽게 할 수 있다. 시스템을 계층으로 나누면 시스템 설계나 구현이 단순해진다.

계층 구조 운영체제에서는 계층을 정의하기가 어렵다. 각 계층은 자신의 하위 계층만 사용할 수 있으므로 신중히 설계해야 한다. 

## 3. 마이크로 커널 구조 운영체제
마이크로 커널은 커널의 기능을 만힝 제외시켰다. 즉, 커널에는 최소 기능만 포함시켜 크기를 대폭 줄이고 기타 기능은 사용자 공간으로 옮겨 사용자 영역에서 수행하는 서버 구현 방법이다.

마이크로 커널 구조에서는 하드웨어 초기화와 메모리 관리(주소 공간 관리), 프로세스(스레드) 관리와 프로세스 간 통신, 프로세스 간 협력을 하는 동기화 기능 등 기본 기능만 실행한다. 대신 네트워크 시스템, 파일 시스템 상호작용과 장치 관리 등 대부분의 운영체제 구성 요소는 커널 외부, 즉 사용자 영역의 서버로 옮겨 구현한다.

마이크로 커널 구조는 커널을 가볍게 했으며 운영체제 서비스를 사용자 영역의 독립적인 서버에서 수행하기 때문에 서버에서 잘못 수행하더라도 다른 서버와 커널에 치명적인 영향을 주지 않는다. 또 운영체제의 많은 기능을 사용자 영역의 서버로 구현할 수 있기 때문에 서버 개발이 용이하고, 운영체제의 기능을 쉽게 변경할 수 있다.

모듈화 정도가 높아 확장성, 이식성, 규모 확장성이 높지만, 모듈 간에 통신이 빈번하게 발생하여 성능이 떨어질 수 있다. 따라서 프로세스 간 통신 발생을 최소화시키는 것이 중요 과제이다.  
대표적인 운영체제 중 마이크로 커널 구조를 전적으로 선택한 것은 없지만, 모듈화된 구성 요소는 포함한다.